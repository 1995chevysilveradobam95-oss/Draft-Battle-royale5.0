:root{
  --bg:#0f0f10;
  --panel:#161618;
  --ink:#e6e6e6;
  --gore:#a30312;
  --gore-dark:#5b020a;
  --accent:#ffcc00;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--ink); background:var(--bg);
  font-family:system-ui,Segoe UI,Roboto,Inter,Arial,sans-serif;
  overflow-x:hidden; transition:background 800ms ease;
}
.topbar{padding:16px 12px 6px; text-align:center}
h1{margin:0; color:var(--gore); text-shadow:0 0 24px #000, 0 0 6px var(--gore-dark)}
.sub{opacity:.85; font-size:.92rem}

.wrap{
  max-width:1200px; margin:0 auto; padding:12px;
  display:grid; gap:14px; grid-template-columns: 1.3fr .9fr;
}
@media (max-width: 900px){ .wrap{grid-template-columns:1fr} }

.panel{
  background:var(--panel); border:1px solid #232327; border-radius:14px; padding:12px;
  box-shadow: inset 0 0 30px #000;
}
.panel h2{margin:6px 6px 10px; font-size:1.05rem; opacity:.92}

/* Arena */
.grid{
  background:linear-gradient(#131314,#0f0f10);
  border:1px solid #242428; border-radius:14px;
  padding:12px; display:grid; gap:12px;
  grid-template-columns: repeat(auto-fit,minmax(150px,1fr));
  box-shadow: inset 0 0 40px #000;
}
.card{
  position:relative; border:2px solid #2a2a2e; border-radius:12px; overflow:hidden;
  background:#1a1a1e; transition:transform .25s ease, filter .4s ease, opacity .8s ease;
}
.card.alive:hover{transform:translateY(-2px)}
.portrait{
  width:100%; height:180px; object-fit:cover; display:block; background:#0e0e10;
}
.label{
  padding:8px 10px; font-weight:700; letter-spacing:.3px;
  background:linear-gradient(transparent,rgba(0,0,0,.25));
  text-align:left;
}
.dead{
  filter:grayscale(100%) contrast(.75) brightness(.6);
  opacity:.35;
}

/* Blood splatter overlay */
.splatter{
  position:absolute; inset:0; pointer-events:none;
  background:
    radial-gradient(ellipse at 30% 20%, rgba(163,3,18,.9), transparent 55%),
    radial-gradient(ellipse at 70% 60%, rgba(163,3,18,.85), transparent 60%),
    radial-gradient(ellipse at 10% 90%, rgba(163,3,18,.7), transparent 50%),
    radial-gradient(circle at 85% 15%, rgba(163,3,18,.6), transparent 40%);
  mix-blend-mode:multiply; opacity:0; transform:scale(.2) rotate(-10deg);
  animation:splatter .7s cubic-bezier(.2,.7,.1,1) forwards;
}
@keyframes splatter{
  70%{opacity:.95; transform:scale(1.15) rotate(8deg)}
  100%{opacity:.85; transform:scale(1) rotate(0)}
}

/* Right column */
.log{
  height:320px; overflow:auto; padding:10px; background:#121214; border-radius:10px; border:1px solid #202024;
}
.entry{margin:8px 0; line-height:1.25rem; animation:pop .25s ease}
.entry b{color:#fff}
.kill{color:var(--gore)}
@keyframes pop{from{transform:scale(.98); opacity:0} to{transform:scale(1); opacity:1)}

/* Controls */
.controls{display:flex; gap:8px; flex-wrap:wrap; margin-top:10px}
button{
  background:linear-gradient(180deg, #2a2a2e, #202024);
  color:#f2f2f2; border:1px solid #34343a; border-radius:10px;
  padding:10px 14px; cursor:pointer; font-weight:700; letter-spacing:.3px;
  box-shadow: 0 1px 0 #000, inset 0 0 12px #0b0b0c;
}
button:hover{filter:brightness(1.05)}
button.danger{background:linear-gradient(180deg, #5b020a, #3a0107); border-color:#4a0108}

/* Final scoreboard */
.final{margin-top:12px; padding:10px; background:#121214; border:1px solid #202024; border-radius:10px}
.final h3{margin:6px 0 10px}
.rankList{list-style:none; padding:0; margin:0}
.rankItem{
  display:flex; align-items:center; gap:10px; padding:8px 10px; margin:6px 0;
  background:linear-gradient(90deg, rgba(163,3,18,.18), transparent 60%);
  border-left:4px solid var(--gore);
  border-radius:8px; opacity:0; transform:translateX(-8px);
}
.rankItem.reveal{animation:slideIn .45s ease forwards}
@keyframes slideIn{to{opacity:1; transform:none}}
.rankNum{font-weight:900; min-width:42px}
.mini{
  width:44px; height:44px; object-fit:cover; border-radius:6px; border:1px solid #2a2a2e;
  filter:grayscale(100%) contrast(.8);
}
.winnerRow{
  background:linear-gradient(90deg, rgba(255,204,0,.15), rgba(163,3,18,.15));
  border-left-color:var(--accent);
}
.crown{
  width:34px; height:34px; display:inline-block; position:relative;
  filter:drop-shadow(0 0 10px #000);
  background:
    radial-gradient(circle at 50% 70%, var(--gore) 0 30%, transparent 35% 100%),
    conic-gradient(from 0deg, var(--accent) 0 100%);
  -webkit-mask:
    radial-gradient(circle 8px at 15% 35%, #000 98%, transparent) no-repeat,
    radial-gradient(circle 8px at 50% 10%, #000 98%, transparent) no-repeat,
    radial-gradient(circle 8px at 85% 35%, #000 98%, transparent) no-repeat,
    linear-gradient(#000 0 0) no-repeat;
  -webkit-mask-size: 16px 16px,16px 16px,16px 16px, 100% 70%;
  -webkit-mask-position: 8% 8%, calc(50% - 8px) 0%, 76% 8%, 0 30%;
  transform-origin:50% -60px; transform:translateY(-8px) scale(.98);
}
.slam{animation:crownSlam .55s cubic-bezier(.25,1.25,.2,1) forwards}
@keyframes crownSlam{
  0%{transform: translateY(-140px) scale(1.3) rotate(-8deg)}
  70%{transform: translateY(6px) scale(.96)}
  100%{transform: translateY(0) scale(1)}
}

.foot{padding:10px 12px; text-align:center; opacity:.7; font-size:.85rem}

/* Random coded backgrounds */
.bg1{background-image: radial-gradient(60% 80% at 50% 20%,#1b1b1f,transparent), linear-gradient(#0f0f10,#0a0a0b)}
.bg2{background-image: radial-gradient(40% 60% at 60% 10%,rgba(255,140,0,.06),transparent), linear-gradient(#0d0d0d,#0a0a0b)}
.bg3{background-image: radial-gradient(70% 90% at 30% 20%,rgba(163,3,18,.08),transparent), linear-gradient(#0f0f10,#0a0a0b)}
.bg4{background-image: radial-gradient(50% 70% at 40% 0%,rgba(0,180,255,.05),transparent), linear-gradient(#0e0e10,#09090a)}
.bg5{background-image: radial-gradient(45% 65% at 55% 5%,rgba(255,220,0,.06),transparent), linear-gradient(#101012,#0a0a0b)}
